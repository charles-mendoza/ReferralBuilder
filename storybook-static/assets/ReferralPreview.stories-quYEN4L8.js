import{j as i}from"./jsx-runtime-z8MfsBtr.js";import{R as u,r as f}from"./index-C2Vpk4u-.js";import{R as C,m as I}from"./mock-ksYNSFqH.js";import"./index-C9rmetsa.js";import"./iframe-DzajngJc.js";var P={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w=u.createContext&&u.createContext(P),S=["attr","size","title"];function B(e,t){if(e==null)return{};var n=D(e,t),r,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(s=0;s<c.length;s++)r=c[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function D(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(r){T(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T(e,t,n){return t=L(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){var t=H(e,"string");return typeof t=="symbol"?t:t+""}function H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E(e){return e&&e.map((t,n)=>u.createElement(t.tag,v({key:n},t.attr),E(t.child)))}function R(e){return t=>u.createElement(M,g({attr:v({},e.attr)},t),E(e.child))}function M(e){var t=n=>{var{attr:r,size:s,title:c}=e,y=B(e,S),m=s||n.size||"1em",l;return n.className&&(l=n.className),e.className&&(l=(l?l+" ":"")+e.className),u.createElement("svg",g({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,y,{className:l,style:v(v({color:e.color||n.color},n.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),c&&u.createElement("title",null,c),e.children)};return w!==void 0?u.createElement(w.Consumer,null,n=>t(n)):t(P)}function A(e){return R({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 368v80h80l235.727-235.729-79.999-79.998L64 368zm377.602-217.602c8.531-8.531 8.531-21.334 0-29.865l-50.135-50.135c-8.531-8.531-21.334-8.531-29.865 0l-39.468 39.469 79.999 79.998 39.469-39.467z"},child:[]}]})(e)}function W(e){return R({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M128 405.429C128 428.846 147.198 448 170.667 448h170.667C364.802 448 384 428.846 384 405.429V160H128v245.429zM416 96h-80l-26.785-32H202.786L176 96H96v32h320V96z"},child:[]}]})(e)}const q="_main_1oh48_1",$="_container_1oh48_10",V="_actions_1oh48_36",G="_actionBtn_1oh48_41",d={main:q,container:$,actions:V,actionBtn:G},N=({headers:e,referrals:t,onEdit:n,onDelete:r})=>{const s=f.useRef(null),[c,y]=f.useState(0),m=()=>{n&&n()},l=async(a,o)=>{if(window.confirm("Are you sure you want to delete?"))try{await C.deleteReferralWithAvatar(a,o),r&&r()}catch(z){console.error(z)}},p=()=>{if(s.current){const a=s.current.getBoundingClientRect().height,o=(t==null?void 0:t.length)??0,j=Math.round((a-40)/45-o);y(j)}};return f.useEffect(()=>{p()},[t]),f.useEffect(()=>(p(),window.addEventListener("resize",p),()=>{window.removeEventListener("resize",p)}),[]),i.jsx("div",{className:d.main,children:i.jsx("div",{className:d.container,ref:s,children:i.jsxs("table",{children:[i.jsx("thead",{children:i.jsx("tr",{children:e.map((a,o)=>i.jsx("th",{children:a},`th-${o}`))})}),i.jsxs("tbody",{children:[t==null?void 0:t.map((a,o)=>i.jsxs("tr",{children:[i.jsx("td",{children:a.name}),i.jsx("td",{children:a.surname}),i.jsx("td",{children:a.email}),i.jsx("td",{children:a.phone}),i.jsxs("td",{className:d.actions,children:[i.jsx("div",{className:d.actionBtn,onClick:m,children:i.jsx(A,{size:18})}),i.jsx("div",{className:d.actionBtn,onClick:()=>l(a.id,a.avatar),children:i.jsx(W,{size:18})})]})]},`tr-${o}`)),[...Array(c)].map((a,o)=>i.jsx("tr",{children:i.jsx("td",{children:"Â "})},`line-${o}`))]})]})})})};N.__docgenInfo={description:"",methods:[],displayName:"ReferralPreview",props:{headers:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},referrals:{required:!0,tsType:{name:"union",raw:"IReferral[] | null",elements:[{name:"Array",elements:[{name:"IReferral"}],raw:"IReferral[]"},{name:"null"}]},description:""},onEdit:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const U={title:"Widgets/ReferralPreview",component:N,tags:["autodocs"],argTypes:{}},h={args:{...I.previewData}};var x,O,_;h.parameters={...h.parameters,docs:{...(x=h.parameters)==null?void 0:x.docs,source:{originalSource:`{
  args: {
    ...mock.previewData
  }
}`,...(_=(O=h.parameters)==null?void 0:O.docs)==null?void 0:_.source}}};const X=["Default"];export{h as Default,X as __namedExportsOrder,U as default};
